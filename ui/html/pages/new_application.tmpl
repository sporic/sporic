{{define "title"}}Faculty Home{{ end }}

{{define "main"}}
<div class="container mt-4">
  <h2 class="mb-4">Fill Project Details</h2>

  <form action="/new_application" method="post" enctype="multipart/form-data">
    <h5>Project Details</h5>
    <!-- Project Title -->
    <div class="mb-3">
      <label for="projectTitle" class="form-label">Project Title</label>
      <input type="text" class="form-control" id="projectTitle" name="project_title"
        placeholder="Enter project title" />
    </div>
    <!-- Activity Type Dropdown -->
    <div class="mb-3">
      <label for="activityType" class="form-label">Activity Type</label>
      <select class="form-select" name="activity_type">
        <option value="consultancy">Consultancy</option>
        <option value="training">Industrial Training</option>
      </select>
    </div>
    <!-- Financial Year Dropdown -->
    <div class="mb-3">
      <label for="financialYear" class="form-label">Financial Year</label>
      <select class="form-select" name="financial_year">
        <option value="2021">2021-22</option>
        <option value="2022">2022-23</option>
        <option value="2023">2023-24</option>
        <option value="2024" selected>2024-25</option>
      </select>
    </div>
    <!-- Estimated Amount -->
    <div class="mb-3">
      <label for="estimatedAmount" class="form-label">Estimated Amount</label>
      <input type="text" class="form-control" id="estimatedAmount" name="estimated_amount"
        placeholder="Enter estimated amount" />
    </div>

    <!-- Company Details -->
    <h5>Company Details</h5>
    <div class="mb-3">
      <label for="companyName" class="form-label">Company Name</label>
      <input type="text" class="form-control" id="companyName" name="company_name" placeholder="Enter company name" />
    </div>
    <div class="mb-3">
      <label for="companyAddress" class="form-label">Company Address</label>
      <input type="text" class="form-control" id="companyAddress" name="company_address"
        placeholder="Enter company address" />
    </div>
    <div class="mb-3">
      <label for="billingAddress" class="form-label">Billing Address</label>
      <input type="text" class="form-control" id="billingAddress" name="billing_address"
        placeholder="Enter billing address" />
    </div>

    <!-- Contact Person Details -->
    <h5>Contact Person Details</h5>
    <div class="mb-3">
      <label for="contactPersonName" class="form-label">Name</label>
      <input type="text" class="form-control" id="contactPersonName" name="contact_person_name"
        placeholder="Enter contact person name" />
    </div>
    <div class="mb-3">
      <label for="contactPersonEmail" class="form-label">Email</label>
      <input type="email" class="form-control" id="contactPersonEmail" name="contact_person_email"
        placeholder="Enter email" />
    </div>
    <div class="mb-3">
      <label for="contactPersonMobile" class="form-label">Mobile</label>
      <input type="text" class="form-control" id="contactPersonMobile" name="contact_person_mobile"
        placeholder="Enter mobile number" />
    </div>
    <div class="mb-3">
      <label for="ContactPersonDesignation" class="form-label">Designation</label>
      <input type="text" class="form-control" id="contactPersonDesignation" name="contact_person_designation"
        placeholder="Enter designation" />
    </div>

    <!-- Additional Team Members -->
    <h5>Additional Team Members</h5>
    <div id="teamMembersContainer"></div>
    <button type="button" class="btn btn-secondary mb-3" onclick="addTeamMember()">
      Add Team Member
    </button>

    <!-- Project Proposal Upload -->
    <h5>Project Proposal</h5>
    <div class="mb-3">
      <label for="projectProposal" class="form-label">Upload Proposal</label>
      <input type="file" class="form-control" id="projectProposal" name="project_proposal" accept=".pdf" />
    </div>

    <!-- Submit Button with Additional Space -->
    <button type="submit" class="btn btn-primary mb-5">Submit Details</button>
  </form>
</div>

<script>
  let teamMemberCount = 0;

  function addTeamMember() {
    teamMemberCount++;
    const container = document.getElementById("teamMembersContainer");
    const newMember = document.createElement("div");
    newMember.classList.add("mb-3");
    newMember.setAttribute("id", `teamMemberDiv${teamMemberCount}`);
    newMember.innerHTML = `
      <label for="teamMember${teamMemberCount}" class="form-label">Team Member Name</label>
      <div class="input-group">
        <input
          type="text"
          class="form-control"
          id="teamMember${teamMemberCount}"
          name="members"
          placeholder="Enter team member name"
        />
        <button type="button" class="btn btn-danger" onclick="removeTeamMember(${teamMemberCount})">Remove</button>
      </div>
    `;
    container.appendChild(newMember);
  }

  function removeTeamMember(id) {
    const memberDiv = document.getElementById(`teamMemberDiv${id}`);
    if (memberDiv) {
      memberDiv.remove();
    }
  }
</script>
{{ end }}